<!doctype html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>关于我们</title>
    <script src="../lib-flexible-2.0/index.js"></script>
    <link rel="stylesheet" href="../bootstrap-3.4.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet/less" href="../less/case.less">
    <!-- <link rel="stylesheet" href="../css/case.css"> -->
    <link rel="stylesheet/less" href="../less/common.less">
    <!-- <link rel="stylesheet" href="../css/common.css"> -->
    <link rel="stylesheet" href="../animate/animate.css">
</head>

<body>
    <!-- header -->
    <div class="container ">
        <div class="row">
            <!-- header -->
            <nav class="navbar navbar-default header">
                <div class="container ">
                    <div class="row">
                        <div class="navbar-header">
                            <span type="button" class="menu">
                            </span>
                            <a class="navbar-brand" href="#"><img src="../images/logo.png" alt=""></a>
                        </div>

                        <div class="collapse navbar-collapse" id="navbar">
                            <ul class="nav navbar-nav navbar-right">
                                <li><a href="../pages/product.html">产品服务</a></li>
                                <li><a href="../pages/case.html">案例中心</a></li>
                                <li><a href="../pages/news-center2.html">资讯中心</a></li>
                                <li><a href="../pages/about-us.html">关于鲲鱼</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- /.container-fluid -->
            </nav>
        </div>
    </div>


    <div class="container">
        <div class="row case">
            <div class="title  animated fadeInDown">
                <div class="text-1">鲲鱼动漫精选</div>
                <div class="text-2">
                    <div class="text-box">
                        <span>案</span>
                        <span>例</span>
                        <span>中</span>
                        <span>心</span>
                    </div>
                </div>
                <div class="img-box">
                    <img src="../images/鲲鲲点赞.gif" alt="">
                </div>
            </div>

        </div>
        <div class="row case">
            <div class="button-box col-xs-10 col-xs-offset-1">
                <div class="item  active">
                    <div class="left one">动</div>
                    <div class="right "><a href="#">动画</a></div>
                </div>
                <div class="item">
                    <div class="left two">网</div>
                    <div class="right"><a href="#">网站</a></div>
                </div>
                <div class="item">
                    <div class="left three">系</div>
                    <div class="right"><a href="#">系统</a></div>
                </div>
                <div class="item">
                    <div class="left four">资</div>
                    <div class="right"><a href="#">资源</a></div>
                </div>
            </div>

        </div>
        <div class="row case">
            <div class="card-box  ">
                <div class="item itme-1 item1">
                    <div class="case-title">我的老小孩——阿尔茨海默病十大征兆</div>
                    <div class="content">
                        <img src="../images/pic1.png" alt="">
                    </div>
                </div>
                <div class="item  item2">
                    <div class="case-title">情绪调节</div>
                    <div class="content">
                        <img src="../images/pic2.png" alt="">

                    </div>
                </div>
                <div class="item item3">
                    <div class="case-title">我的老小孩——阿尔茨海默病十大征兆</div>
                    <div class="content">
                        <img src="../images/pic1.png" alt="">

                    </div>
                </div>
                <div class="item  item4">
                    <div class="case-title">情绪调节</div>
                    <div class="content">
                        <img src="../images/pic2.png" alt="">

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="overlay">

    </div>
    <div class="popup container col-xs-10">
        <div class="top">
            <div class="dot-box">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
            <div class="text">情绪调节</div>
        </div>
        <div class="bottom">
            <div class="top-border col-xs-10 col-xs-offset-1">
                <video autoplay=true id="my-video1" class="video-js  col-xs-10 " controls="" controlslist="nodownload" width="100%" height="100%" poster="../images/zero_two.webp" style=" object-fit: fill;" uc-video-toolbar-id="3a8ee42c-3b27-cb6d-3c50-1602900836244" src="../vedio/广州 广州塔 航拍.mp4">
                    <source src="../vedio/广州 广州塔 航拍.mp4" type="video/mp4">

                </div>
                <img class="play-btn" src="../images/play-btn.png" alt="">

                <div class="bottom-text col-xs-10 col-xs-offset-1">
                    简介：一个事件，所引发的情绪不止一种，称为混合情绪。举一个例子，大学毕业的时候，内心往往五味杂陈，既有跟同窗好友离别的忧愁，又对未来经济独立的期待，可能还有对职业选择的迷茫等。对同时存在的多种情绪做个梳理，寻找负性情绪背后隐藏的希望、期待、价值观等。
                </div>
            </div>


    </div>
    <div class="pre-next-box">
        <img class="left-img" src="../images/pre-btn.png" alt="">
        <img class="right-img" src="../images/next-btn.png" alt="">
    </div>
</body>


<script src="../js/jquery.js"></script>
<script src="../bootstrap-3.4.1/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/less.js/4.1.1/less.js"></script>
<script>
    let VIDEO = document.querySelector('.top-border video')


    VIDEO.ontimeupdate = function() {
            console.log('播放true', VIDEO.paused);
            if (VIDEO.paused === false) {
                $('.play-btn').fadeOut(200);
            } else {
                $('.play-btn').fadeIn(200);
            }
        }
        // 卡片的左右移入
    $(".card-box .item:even").addClass("animated slideInLeft");
    $(".card-box .item:odd").addClass("animated slideInRight");

    // tab选项的点击
    $(".button-box .item").click(function() {
        console.log('点击了');
        
        $(this).siblings().removeClass("active");
        $(this).addClass("active");
    })
    // tab选项的hover
    $(".button-box .item").hover(function() {
        console.log('点击了');
        $(this).siblings().removeClass("active");
        $(this).addClass("active");
    },function() {

    })

    // tab-click弹出vedio
    $(".card-box").click(function() {
            console.log('card-box');

            VIDEO.pause()
            $('.play-btn').fadeIn(200);
            showOverlay()
            adjust('.popup')
            $(".popup").fadeTo(200, 1);
            adjust('.pre-next-box')
            $(".pre-next-box").fadeTo(200, 1);


        })
        // 关闭遮罩层
    $(".close-box img").click(function() {
            hideOverlay()
            hideVedio()
            $(".pre-next-box").fadeOut(200);
        })
        // 播放按钮
    $(".bottom .play-btn").click(function() {
        console.log('............');

        VIDEO.play()
        $('.play-btn').fadeOut(200);

    })

    // 上一个
    $('.left-img').click(function() {
            console.log('...')
        })
        // 下一个
    $('.right-img').click(function() {

        })
        //     // 关闭遮罩层
    $("#overlay").click(function() {
        console.log('遮罩层')
        hideOverlay()
        $('.popup').fadeOut(200)
        $('.pre-next-box').fadeOut(200)
        $('body').css('overflow', 'auto')
    });

    /* 显示遮罩层 */
    function showOverlay() {
        $("#overlay").height(pageHeight());
        $("#overlay").width(pageWidth());

        // fadeTo第一个参数为速度，第二个为透明度
        // 多重方式控制透明度，保证兼容性，但也带来修改麻烦的问题
        $("#overlay").fadeTo(200, 0.5);
        $('body').css('overflow', 'hidden')
    }

    /* 隐藏覆盖层 */
    function hideOverlay() {
        $("#overlay").fadeOut(200);
    }
    // 隐藏vedio
    function hideVedio() {

        $(".popup").fadeOut(200);
    }

    /* 当前页面高度 */
    function pageHeight() {
        return document.body.scrollHeight;
    }

    /* 当前页面宽度 */
    function pageWidth() {
        return document.body.scrollWidth;
    }

    /* 定位到页面中心 */
    function adjust(id) {

        var w = $(id).width();
        var h = $(id).height();

        var t = scrollY() + (windowHeight() / 2) - (h / 2);
        if (t < 0) t = 0;

        var l = scrollX() + (windowWidth() / 2) - (w / 2);
        if (l < 0) l = 0;

        $(id).css({
            left: l + 'px',
            top: t + 'px'
        });
    }

    //浏览器视口的高度
    function windowHeight() {
        var de = document.documentElement;

        return self.innerHeight || (de && de.clientHeight) || document.body.clientHeight;
    }

    //浏览器视口的宽度
    function windowWidth() {
        var de = document.documentElement;

        return self.innerWidth || (de && de.clientWidth) || document.body.clientWidth
    }

    /* 浏览器垂直滚动位置 */
    function scrollY() {
        var de = document.documentElement;

        return self.pageYOffset || (de && de.scrollTop) || document.body.scrollTop;
    }

    /* 浏览器水平滚动位置 */
    function scrollX() {
        var de = document.documentElement;

        return self.pageXOffset || (de && de.scrollLeft) || document.body.scrollLeft;
    }
</script>

<!-- 滚动加载更多 -->
<script type="text/javascript">
        //小屏幕下的导航条折叠
        if ($(window).width() < 768) {
            //点击导航链接之后，把导航选项折叠起来
            $(".menu").click(function() {
                $("#navbar").collapse('hide');
                window.open('../pages/navbar-page.html', '_self')

            });
        }
    $(document).ready(function() {
        var range = 100; //距下边界长度/单位px
        var elemt = 500; //插入元素高度/单位px
        var maxnum = 20; //设置加载最多次数
        var num = 1;
        var totalheight = 0;
        var main = $(".card-box"); //主体元素
        $(window).scroll(function() {
            var srollPos = $(window).scrollTop(); //滚动条距顶部距离(页面超出窗口的高度)

            console.log("滚动条到顶部的垂直高度: " + $(document).scrollTop());
            console.log("页面的文档高度 ：" + $(document).height());
            console.log('浏览器的高度：' + $(window).height());

            totalheight = parseFloat($(window).height()) + parseFloat(srollPos);
            console.log('0000000', $(document).height(), range, totalheight, num, maxnum);

            if (($(document).height() - range) <= totalheight && num != maxnum) {
                main.append(`                    <div class="item itme-1 item1">
                        <div class="case-title">我的老小孩——阿尔茨海默病十大征兆</div>
                        <div class="content">
                            <img src="../images/pic1.png" alt="">
                        </div>
                    </div>
                    <div class="item  item2">
                        <div class="case-title">情绪调节</div>
                        <div class="content">
                            <img src="../images/pic2.png" alt="">

                        </div>
                    </div>
                    <div class="item item3">
                        <div class="case-title">我的老小孩——阿尔茨海默病十大征兆</div>
                        <div class="content">
                            <img src="../images/pic1.png" alt="">

                        </div>
                    </div>
                    <div class="item  item4">
                        <div class="case-title">情绪调节</div>
                        <div class="content">
                            <img src="../images/pic2.png" alt="">

                        </div>
                    </div>`);
                num++;
            }
        });
    });
</script>
</body>

</html>